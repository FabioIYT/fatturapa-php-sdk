<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8">
    <title>Editor semplice per fattura elettronica</title>
    <script src="js/handlebars.min.js"></script>
    <style>
    pre { background-color: gray; width: 100%; overflow: hidden; }
    </style>
  </head>
  <body>
    <h1>Visualizza fattura</h1>

    <hr/>
    <div>
      <form enctype="multipart/form-data" method="post" id="xml_fileinfo">
        <label>File fattura in formato XML:</label>
        <input type="file" name="xml" required id="xml"/>
      </form>
      <button id='carica_xml'>Carica fattura XML</button>
    </div>
    <hr/>
 
    <script type="text/javascript">
      // configuration for jshint
      /* jshint browser: true, devel: true */
      /* global JSONEditor, Handlebars */
      "use strict";

      document.getElementById("carica_xml").onclick = function() {
        var request = new XMLHttpRequest();
        request.open("POST", "upload2.php");
        var form = document.getElementById("xml_fileinfo");
        var data_to = new FormData(form);
        console.log(data_to);
        // request.onload = function() {
        //   if (request.status == 200) {
        //     if (request.responseText) {
        //       var json = JSON.parse(request.responseText);
        //       editor.setValue(json);
        //     }
        //   }
        // };
        request.send(data_to);
      };

    </script>
  </body>
</html>
